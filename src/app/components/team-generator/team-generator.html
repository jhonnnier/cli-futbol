<div class="team-generator">
  <h2>Generar Equipos</h2>

  <div class="config-section">
    <button
      class="btn-generate"
      (click)="generateTeams()"
      [disabled]="players().length < 2"
    >
      ğŸ² Repartir Equipos
    </button>
  </div>

  @if (players().length < 2) {
    <p class="warning">Se necesitan al menos 2 jugadores para generar equipos.</p>
  }

  @if (teams().length > 0) {
    <div class="teams-grid">
      @for (team of teams(); track team.name) {
        <div class="team-card">
          <div class="team-header">
            <h3>{{ team.name }}</h3>
            <span class="team-stats">
              Total: {{ team.totalSkill }} | Prom: {{ getSkillAverage(team) }}
            </span>
          </div>
          @if (team.goalkeeper) {
            <div class="team-goalkeeper">
              <span class="goalkeeper-icon">ğŸ§¤</span>
              <span class="goalkeeper-name">{{ team.goalkeeper.name }}</span>
              <span class="goalkeeper-skill">â­{{ team.goalkeeper.skill }}</span>
            </div>
          }
          <ul class="team-players">
            @for (player of team.players; track player.id) {
              <li>
                <span class="player-name">{{ player.name }}</span>
                <span class="player-skill">
                  âš”ï¸{{ player.offense }} ğŸ¯{{ player.creation }} ğŸ›¡ï¸{{ player.defense }}
                </span>
              </li>
            }
          </ul>
        </div>
      }
    </div>
  }
</div>
