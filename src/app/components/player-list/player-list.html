<div class="player-list">
  <h2>Jugadores Habilitados</h2>

  @if (enabledPlayers().length === 0) {
    <p class="empty-message">No hay jugadores habilitados.</p>
  } @else {
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Defensa</th>
            <th>CreaciÃ³n</th>
            <th>Ofensiva</th>
            <th>Total</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          @for (player of enabledPlayers(); track player.id) {
            <tr>
              <td class="player-name">{{ player.name }}</td>
              <td>
                <app-star-rating
                  [value]="player.defense"
                  (valueChange)="updateSkill(player, 'defense', $event)"
                />
              </td>
              <td>
                <app-star-rating
                  [value]="player.creation"
                  (valueChange)="updateSkill(player, 'creation', $event)"
                />
              </td>
              <td>
                <app-star-rating
                  [value]="player.offense"
                  (valueChange)="updateSkill(player, 'offense', $event)"
                />
              </td>
              <td class="total-skill">{{ getTotalSkill(player) }}</td>
              <td class="actions">
                <button class="btn-toggle btn-disable" (click)="togglePlayer(player.id)" title="Deshabilitar">
                  âŒ
                </button>
                <button class="btn-delete" (click)="deletePlayer(player.id)" title="Eliminar">
                  ğŸ—‘ï¸
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }

  @if (disabledPlayers().length > 0) {
    <h2 class="disabled-title">Jugadores Deshabilitados</h2>
    <div class="table-container">
      <table class="disabled-table">
        <thead>
          <tr>
            <th>Nombre</th>
            <th>Defensa</th>
            <th>CreaciÃ³n</th>
            <th>Ofensiva</th>
            <th>Total</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          @for (player of disabledPlayers(); track player.id) {
            <tr>
              <td class="player-name">{{ player.name }}</td>
              <td>
                <app-star-rating
                  [value]="player.defense"
                  [readonly]="true"
                />
              </td>
              <td>
                <app-star-rating
                  [value]="player.creation"
                  [readonly]="true"
                />
              </td>
              <td>
                <app-star-rating
                  [value]="player.offense"
                  [readonly]="true"
                />
              </td>
              <td class="total-skill">{{ getTotalSkill(player) }}</td>
              <td class="actions">
                <button class="btn-toggle btn-enable" (click)="togglePlayer(player.id)" title="Habilitar">
                  âœ…
                </button>
                <button class="btn-delete" (click)="deletePlayer(player.id)" title="Eliminar">
                  ğŸ—‘ï¸
                </button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
